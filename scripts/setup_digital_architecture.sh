#!/usr/bin/env bash
set -euo pipefail

TARGET_ROOT="${1:-$HOME}"
BASE_DIR_NAME="${2:-Digital_Information_Architecture}"
BASE_DIR="$TARGET_ROOT/$BASE_DIR_NAME"

mkdir -p "$BASE_DIR"

# Master folders
mkdir -p \
  "$BASE_DIR/000_시스템_및_수집함/001_수집함_Inbox" \
  "$BASE_DIR/000_시스템_및_수집함/002_시스템_메타데이터" \
  "$BASE_DIR/000_시스템_및_수집함/003_표준_작업_절차_SOP" \
  "$BASE_DIR/100_활성_프로젝트/_프로젝트_내부_표준_템플릿/_01_기획_및_행정" \
  "$BASE_DIR/100_활성_프로젝트/_프로젝트_내부_표준_템플릿/_02_에셋_및_소스" \
  "$BASE_DIR/100_활성_프로젝트/_프로젝트_내부_표준_템플릿/_03_작업_원본" \
  "$BASE_DIR/100_활성_프로젝트/_프로젝트_내부_표준_템플릿/_04_내보내기_최종" \
  "$BASE_DIR/200_업무_영역/210_경영_및_기획" \
  "$BASE_DIR/200_업무_영역/220_재무_및_회계" \
  "$BASE_DIR/200_업무_영역/230_마케팅_및_영업" \
  "$BASE_DIR/200_업무_영역/240_법무_및_행정" \
  "$BASE_DIR/200_업무_영역/250_클라이언트_관리" \
  "$BASE_DIR/300_개인_삶의_영역/310_건강_및_의료" \
  "$BASE_DIR/300_개인_삶의_영역/320_개인_재무_및_자산" \
  "$BASE_DIR/300_개인_삶의_영역/330_교육_및_성장" \
  "$BASE_DIR/300_개인_삶의_영역/340_가사_및_주거" \
  "$BASE_DIR/400_자원_및_라이브러리/410_지식_창고" \
  "$BASE_DIR/400_자원_및_라이브러리/420_디자인_에셋" \
  "$BASE_DIR/400_자원_및_라이브러리/430_비디오_오디오_라이브러리" \
  "$BASE_DIR/400_자원_및_라이브러리/440_코드_및_IT_스니펫" \
  "$BASE_DIR/500_보관소"

cat > "$BASE_DIR/000_시스템_및_수집함/002_시스템_메타데이터/번호체계_인덱스.md" <<'INDEX'
# 번호체계 인덱스

- 000: 시스템 및 수집함
- 100: 활성 프로젝트
- 200: 업무 영역
- 300: 개인 삶의 영역
- 400: 자원 및 라이브러리
- 500: 보관소
INDEX

cat > "$BASE_DIR/README_디지털_정보_아키텍처.md" <<'GUIDE'
# 디지털 정보 아키텍처 (PARA + Johnny Decimal)

생성 위치: 이 파일이 있는 폴더

## 빠른 사용 규칙
1. 모든 신규 파일은 `000_시스템_및_수집함/001_수집함_Inbox`로 먼저 수집
2. 프로젝트는 `100_활성_프로젝트/YYYY-MM-DD_프로젝트명` 형식으로 생성
3. 완료 프로젝트는 즉시 `500_보관소`로 이동
4. 파일명은 날짜/버전 기반으로 관리 (`최종` 금지)

## 파일 명명 예시
- `2026-02-16_A사_제안서_v1.0.pdf`
- `2026-02-18_B브랜드_로고시안_v1.1.png`

## 주간 리뷰 (15분)
- Inbox 비우기
- 완료 프로젝트 보관소 이동
- 다음 주 활성 프로젝트 정리
GUIDE

printf "\n생성 완료: %s\n" "$BASE_DIR"
find "$BASE_DIR" -maxdepth 3 -type d | sort
